<p id="notice"><%= notice %></p>

<h1>Addresses</h1>

<table class="table table-bordered">
<thead class="thead-dark">
    <tr>
      <th>Line1</th>
      <th>Line2</th>
      <th>Line3</th>
      <th>City</th>
      <th>District</th>
      <th>State</th>
      <th>Country</th>
      <th>Zip code</th>
      <th>User</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <% if logged_in? && current_user.admin? %> 
    <% @addresses = Address.all%>
  <% else %>
    <% @addresses = Address.where(:user_id => current_user.id)%>
  <% end %>



  <tbody>
    <% @addresses.each do |address| %>
      <tr>
        <td><%= address.line1 %></td>
        <td><%= address.line2 %></td>
        <td><%= address.line3 %></td>
        <td><%= address.city %></td>
        <td><%= address.district %></td>
        <td><%= address.state %></td>
        <td><%= address.country %></td>
        <td><%= address.zip_code %></td>
        <td><%= address.user_id  %></td>
        <td><%= link_to 'Show', address %></td>
        <td><%= link_to 'Edit', edit_address_path(address) %></td>
        <td><%= link_to 'Destroy', address, method: :delete, data: { confirm: 'Are you sure?' } %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<br>

<Button class="btn btn-default"><%= link_to 'New Address', new_address_path %></Button>
